# ğŸš¨ å…³é”®ä¿®å¤ - Netlify éƒ¨ç½²è·¯å¾„é—®é¢˜

## å‘ç°çš„é—®é¢˜

æ ¹æ®ä½ çš„åé¦ˆï¼š
- âŒ éƒ¨ç½²æ–‡ä»¶åœ¨ `scanwhat/desktop/scanwhat/` è·¯å¾„ä¸‹ï¼ˆé”™è¯¯ï¼‰
- âŒ æ²¡æœ‰ `_redirects` æ–‡ä»¶
- âŒ æ²¡æœ‰ `assets` æ–‡ä»¶å¤¹

## å·²å®æ–½çš„ä¿®å¤

### 1. åˆ›å»ºäº†æ„å»ºåè„šæœ¬ (`build-fix.js`)
- ç¡®ä¿ `_redirects` æ–‡ä»¶è¢«å¤åˆ¶åˆ° `dist` ç›®å½•
- å¦‚æœæºæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¼šåˆ›å»ºé»˜è®¤çš„ `_redirects` æ–‡ä»¶

### 2. æ›´æ–°äº†æ„å»ºå‘½ä»¤
- åœ¨ `package.json` ä¸­æ·»åŠ äº† `postbuild` è„šæœ¬
- æ„å»ºå®Œæˆåè‡ªåŠ¨è¿è¡Œ `build-fix.js`

### 3. ä¿®å¤äº† netlify.toml
- ç§»é™¤äº†å¯èƒ½å¯¼è‡´è·¯å¾„é—®é¢˜çš„ `base = "."` é…ç½®

## âš ï¸ é‡è¦ï¼šåœ¨ Netlify ä¸­æ£€æŸ¥è®¾ç½®

### æ­¥éª¤ 1: æ£€æŸ¥å‘å¸ƒç›®å½•

1. ç™»å½• Netlify Dashboard
2. è¿›å…¥ä½ çš„ç«™ç‚¹
3. **Site settings** â†’ **Build & deploy** â†’ **Build settings**
4. æ£€æŸ¥ **Publish directory** è®¾ç½®ï¼š

   **åº”è¯¥æ˜¯**: `dist`
   
   **ä¸åº”è¯¥æ˜¯**: `scanwhat/desktop/scanwhat` æˆ–ä»»ä½•å…¶ä»–è·¯å¾„

5. å¦‚æœä¸å¯¹ï¼Œä¿®æ”¹ä¸º `dist` å¹¶ä¿å­˜

### æ­¥éª¤ 2: æ£€æŸ¥æ„å»ºå‘½ä»¤

åœ¨åŒä¸€ä¸ªé¡µé¢ï¼Œæ£€æŸ¥ **Build command**ï¼š

**åº”è¯¥æ˜¯**: `npm ci && npm run build`

### æ­¥éª¤ 3: æ£€æŸ¥ Base directory

**Base directory** åº”è¯¥**ç•™ç©º**ï¼ˆä¸è¦å¡«å†™ä»»ä½•å†…å®¹ï¼‰

## ğŸ”„ é‡æ–°éƒ¨ç½²

### æ–¹æ³• 1: æ¸…é™¤ç¼“å­˜é‡æ–°éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. åœ¨ Netlify Dashboard
2. **Deploys** â†’ **Trigger deploy**
3. é€‰æ‹© **"Clear cache and deploy site"**
4. ç­‰å¾…éƒ¨ç½²å®Œæˆ

### æ–¹æ³• 2: æ¨é€æ–°ä»£ç è§¦å‘éƒ¨ç½²

ä»£ç å·²ç»æ¨é€ï¼ŒNetlify åº”è¯¥ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶éƒ¨ç½²ã€‚

## âœ… éªŒè¯ä¿®å¤

éƒ¨ç½²å®Œæˆåï¼Œåœ¨æ–‡ä»¶æµè§ˆå™¨ä¸­æ£€æŸ¥ï¼š

**æ­£ç¡®çš„æ–‡ä»¶ç»“æ„åº”è¯¥æ˜¯**:
```
dist/                    â† æ ¹ç›®å½•åº”è¯¥æ˜¯ dist
â”œâ”€â”€ index.html
â”œâ”€â”€ _redirects          â† è¿™ä¸ªæ–‡ä»¶ç°åœ¨åº”è¯¥å­˜åœ¨äº†ï¼
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ index-[hash].js
â”‚   â””â”€â”€ index-[hash].css
â””â”€â”€ ...
```

**ä¸åº”è¯¥çœ‹åˆ°**:
- âŒ `scanwhat/desktop/scanwhat/` è·¯å¾„
- âŒ ç¼ºå°‘ `_redirects` æ–‡ä»¶
- âŒ ç¼ºå°‘ `assets` æ–‡ä»¶å¤¹

## ğŸ› å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨

### æ£€æŸ¥æ¸…å•

1. **å‘å¸ƒç›®å½•è®¾ç½®**
   - [ ] åœ¨ Netlify ä¸­è®¾ç½®ä¸º `dist`
   - [ ] ä¸æ˜¯ `scanwhat/desktop/scanwhat`

2. **æ„å»ºæ—¥å¿—**
   - [ ] æŸ¥çœ‹æ„å»ºæ—¥å¿—
   - [ ] ç¡®è®¤çœ‹åˆ° "Copying _redirects file to dist..."
   - [ ] ç¡®è®¤æ„å»ºæˆåŠŸ

3. **æ–‡ä»¶ç»“æ„**
   - [ ] åœ¨æ–‡ä»¶æµè§ˆå™¨ä¸­ï¼Œæ ¹ç›®å½•åº”è¯¥æ˜¯ `dist`
   - [ ] `_redirects` æ–‡ä»¶åº”è¯¥åœ¨ `dist` ç›®å½•çš„æ ¹ç›®å½•
   - [ ] `assets` æ–‡ä»¶å¤¹åº”è¯¥å­˜åœ¨

### å¦‚æœå‘å¸ƒç›®å½•ä»ç„¶é”™è¯¯

1. **æ‰‹åŠ¨ä¿®æ”¹ Netlify è®¾ç½®**:
   - Site settings â†’ Build & deploy
   - å°† Publish directory æ”¹ä¸º `dist`
   - ä¿å­˜
   - é‡æ–°éƒ¨ç½²

2. **æ£€æŸ¥æ˜¯å¦æœ‰ Base directory è®¾ç½®**:
   - å¦‚æœæœ‰ï¼Œåº”è¯¥ç•™ç©º
   - å¦‚æœæœ‰å€¼ï¼Œåˆ é™¤å®ƒ

## ğŸ“ å…³é”®ç‚¹

- **å‘å¸ƒç›®å½•å¿…é¡»æ˜¯ `dist`**
- **Base directory å¿…é¡»ç•™ç©º**
- **æ„å»ºå‘½ä»¤ä¼šç¡®ä¿ `_redirects` æ–‡ä»¶è¢«å¤åˆ¶**

ä¿®å¤å·²æ¨é€ï¼Œè¯·åœ¨ Netlify ä¸­ï¼š
1. æ£€æŸ¥å‘å¸ƒç›®å½•è®¾ç½®ï¼ˆå¿…é¡»æ˜¯ `dist`ï¼‰
2. æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°éƒ¨ç½²
3. éªŒè¯æ–‡ä»¶ç»“æ„

