# Cloudflare Pages é…ç½®ä¿®å¤

## ğŸš¨ å½“å‰é…ç½®é—®é¢˜

ä½ çš„å½“å‰é…ç½®ï¼š
```
Build command: npm run build          âœ… æ­£ç¡®
Deploy command: /                     âŒ é”™è¯¯ï¼éœ€è¦æ­£ç¡®çš„å‘½ä»¤
Version command: npx wrangler versions upload  âŒ é”™è¯¯ï¼åº”è¯¥ç•™ç©ºæˆ–ä½¿ç”¨æ­£ç¡®å‘½ä»¤
Root directory: /                     âœ… æ­£ç¡®
```

## âœ… æ­£ç¡®çš„é…ç½®

å¦‚æœç³»ç»Ÿè¦æ±‚å¡«å†™ Deploy commandï¼ˆæ˜¾ç¤º "Required"ï¼‰ï¼Œä½¿ç”¨ä»¥ä¸‹é…ç½®ï¼š

```
Build command: npm run build          âœ…
Deploy command: npx wrangler pages deploy dist  âœ… å¦‚æœç³»ç»Ÿè¦æ±‚å¿…å¡«
Version command: (ç•™ç©º)               âœ… å¦‚æœå¯é€‰ï¼Œç•™ç©ºï¼›å¦‚æœå¿…å¡«ï¼Œä½¿ç”¨å ä½ç¬¦
Root directory: /                    âœ…
Build output directory: dist          âœ…
```

**æ³¨æ„**ï¼šå¦‚æœ Deploy command å­—æ®µæ˜¾ç¤º "Required"ï¼ˆå¿…å¡«ï¼‰ï¼Œå¿…é¡»å¡«å†™æœ‰æ•ˆçš„å‘½ä»¤ã€‚

## ğŸ”§ ä¿®å¤æ­¥éª¤

### 1. è¿›å…¥ Cloudflare Dashboard
1. è®¿é—® https://dash.cloudflare.com/
2. è¿›å…¥ **Workers & Pages** â†’ é€‰æ‹©ä½ çš„é¡¹ç›®

### 2. ä¿®æ”¹è®¾ç½®
1. ç‚¹å‡»é¡¹ç›®åç§°è¿›å…¥é¡¹ç›®è¯¦æƒ…
2. ç‚¹å‡» **Settings** æ ‡ç­¾
3. æ»šåŠ¨åˆ° **Builds & deployments** éƒ¨åˆ†
4. æ‰¾åˆ°ä»¥ä¸‹å­—æ®µï¼š

#### Deploy command
- **å½“å‰å€¼**: `/`
- **åº”è¯¥æ”¹ä¸º**: `npx wrangler pages deploy dist`
- **æ“ä½œ**: ç‚¹å‡»å­—æ®µï¼Œåˆ é™¤ `/`ï¼Œè¾“å…¥ `npx wrangler pages deploy dist`
- **æ³¨æ„**: å¦‚æœå­—æ®µæ˜¾ç¤º "Required"ï¼ˆå¿…å¡«ï¼‰ï¼Œå¿…é¡»å¡«å†™æ­¤å‘½ä»¤

#### Version command
- **å½“å‰å€¼**: `npx wrangler versions upload`
- **åº”è¯¥æ”¹ä¸º**: **ç•™ç©º**ï¼ˆå¦‚æœå¯é€‰ï¼‰æˆ– `echo "Skipping version upload"`ï¼ˆå¦‚æœå¿…å¡«ï¼‰
- **æ“ä½œ**: 
  - å¦‚æœå­—æ®µå¯é€‰ï¼šåˆ é™¤æ‰€æœ‰å†…å®¹ï¼Œç•™ç©º
  - å¦‚æœå­—æ®µå¿…å¡«ï¼ˆæ˜¾ç¤º "Required"ï¼‰ï¼šè¾“å…¥ `echo "Skipping version upload"`

#### Build command
- **å½“å‰å€¼**: `npm run build`
- **åº”è¯¥æ”¹ä¸º**: ä¿æŒä¸å˜ âœ…

#### Root directory
- **å½“å‰å€¼**: `/`
- **åº”è¯¥æ”¹ä¸º**: ä¿æŒä¸å˜ âœ…

#### Build output directory
- **ç¡®ä¿è®¾ç½®ä¸º**: `dist`
- å¦‚æœçœ‹ä¸åˆ°è¿™ä¸ªå­—æ®µï¼Œå¯èƒ½éœ€è¦å±•å¼€æ›´å¤šé€‰é¡¹

### 3. ä¿å­˜è®¾ç½®
1. æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨
2. ç‚¹å‡» **Save** æŒ‰é’®
3. ç­‰å¾…ä¿å­˜å®Œæˆ

### 4. é‡æ–°éƒ¨ç½²
1. ç‚¹å‡» **Deployments** æ ‡ç­¾
2. æ‰¾åˆ°æœ€æ–°çš„éƒ¨ç½²ï¼ˆåº”è¯¥æ˜¯å¤±è´¥çš„ï¼‰
3. ç‚¹å‡» **Retry deployment** æŒ‰é’®
4. æˆ–è€…ç­‰å¾…ä¸‹ä¸€æ¬¡ Git æäº¤è‡ªåŠ¨è§¦å‘éƒ¨ç½²

## ğŸ“ ä¸ºä»€ä¹ˆè¿™äº›å­—æ®µåº”è¯¥ç•™ç©ºï¼Ÿ

### Deploy command
- **é”™è¯¯ç†è§£**: ä»¥ä¸ºéœ€è¦è®¾ç½®éƒ¨ç½²å‘½ä»¤
- **å®é™…æƒ…å†µ**: Cloudflare Pages ä¼šè‡ªåŠ¨æ£€æµ‹ `dist/` ç›®å½•å¹¶è‡ªåŠ¨éƒ¨ç½²
- **å¦‚æœè®¾ç½®**: ä¼šå°è¯•è¿è¡Œä½ æŒ‡å®šçš„å‘½ä»¤ï¼Œå¯¼è‡´é”™è¯¯

### Version command
- **é”™è¯¯ç†è§£**: ä»¥ä¸ºéœ€è¦è®¾ç½®ç‰ˆæœ¬å‘½ä»¤
- **å®é™…æƒ…å†µ**: `npx wrangler versions upload` æ˜¯ç”¨äº **Cloudflare Workers** çš„ï¼Œä¸æ˜¯ Pages
- **å¦‚æœè®¾ç½®**: ä¼šåœ¨ Pages é¡¹ç›®ä¸­è¿è¡Œ Workers å‘½ä»¤ï¼Œå¯¼è‡´é”™è¯¯

## âœ… éªŒè¯ä¿®å¤

ä¿®å¤åï¼Œéƒ¨ç½²åº”è¯¥ï¼š
1. âœ… æ„å»ºæˆåŠŸï¼ˆ`npm run build`ï¼‰
2. âœ… è‡ªåŠ¨æ£€æµ‹ `dist/` ç›®å½•
3. âœ… è‡ªåŠ¨éƒ¨ç½²é™æ€æ–‡ä»¶
4. âœ… è‡ªåŠ¨è¯†åˆ« `functions/` ç›®å½•ä¸­çš„ Functions
5. âœ… éƒ¨ç½²æˆåŠŸï¼Œç½‘ç«™å¯è®¿é—®

## ğŸ”‘ åˆ«å¿˜äº†è®¾ç½®ç¯å¢ƒå˜é‡

å¦‚æœè¿˜æ²¡è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

1. åœ¨é¡¹ç›®è®¾ç½®ä¸­ï¼Œè¿›å…¥ **Settings** â†’ **Environment variables**
2. ç‚¹å‡» **Add variable**
3. æ·»åŠ ï¼š
   - **Variable name**: `GEMINI_API_KEY`
   - **Value**: ä½ çš„ Google Gemini API å¯†é’¥
   - **Environment**: é€‰æ‹© **Production** å’Œ **Preview**
4. ç‚¹å‡» **Save**
5. **é‡è¦**: ç¯å¢ƒå˜é‡æ›´æ”¹åéœ€è¦é‡æ–°éƒ¨ç½²æ‰èƒ½ç”Ÿæ•ˆ

## ğŸ§ª æµ‹è¯•

éƒ¨ç½²æˆåŠŸåï¼š
1. è®¿é—®ä½ çš„ç½‘ç«™ï¼ˆ`.pages.dev` åŸŸåï¼‰
2. ä¸Šä¼ ä¸€å¼ åŒ…å«æ–‡å­—çš„å›¾ç‰‡
3. æ£€æŸ¥æ˜¯å¦èƒ½æˆåŠŸæå–æ–‡å­—

å¦‚æœ API ä¸å·¥ä½œï¼Œæ£€æŸ¥ï¼š
- ç¯å¢ƒå˜é‡æ˜¯å¦å·²è®¾ç½®
- æ˜¯å¦å·²é‡æ–°éƒ¨ç½²ï¼ˆç¯å¢ƒå˜é‡æ›´æ”¹åéœ€è¦é‡æ–°éƒ¨ç½²ï¼‰
- Cloudflare Pages Functions æ—¥å¿—ï¼ˆåœ¨ Dashboard ä¸­æŸ¥çœ‹ï¼‰

